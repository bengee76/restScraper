{% extends 'base.html' %}

{% block head %}
<title>restScraper</title>
<script>
    function formSubmit(event) {
        document.getElementById('search').style.display='none';
        document.getElementById('loading').style.display='block';
    }
    function handlePageShow(event) {
            if (event.persisted) {
                window.location.reload();
            }
        }
    window.addEventListener('pageshow', handlePageShow);
</script>
{% endblock %}

{% block body %}
<div class="content">
    <h1>Restaurants Scraper</h1>
    <form id="search" action="/scrape" method="POST" onsubmit="formSubmit()">
        <input type="text" placeholder="Enter your search" name="content" id="content" required>
        <input type="submit" value="Search">
    </form>
</div>
<div id="loading" style="display: none;">Loading...</div>
{% endblock %}